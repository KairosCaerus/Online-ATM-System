<!DOCTYPE html>
<html>
  <head>
    <title>Check Deposit</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <script srs = "script.js"></script>
    <body style="background-color:rgb(244, 226, 198)">
    <center>

    <img src="BOR_Logo.png"
     width="300" height="100"/> </a>
     <br>
     The Bank of Rona has proudly been serving customers since 2020.
    </center>
    <br>

    </head>
    <body>
      <body>

        <ul>
          <li><a class="active" href="AccountManage.html">Account</a></li>
          <li><a href="ATMStart.html">Online ATM</a></li>
          <li><a href="FAQ page v1.html">FAQ</a></li>

        </ul>
      </body>
    <br>
    <h1> Deposit Check Here: </h1>

    <input type="file" id="myFile" name="filename">

    <br>
    AccountID: <input type="text" id="AccountID">
    <br>
    Deposit Amount: <input type="text" id="amount">
    <br>
    <button type="button" onclick="depositCheck()" name="button">Deposit Check</button>
    <button type="button" onclick="window.location.href='AccountManage.html'" name="button">Go Back</button>

</body>

<script>
  async function depositCheck(){
    if(isNaN(amount.value)){
      alert("Input a valid amount.");
    }else{
      if(myFile.value != "" && Number(amount.value) >= 0 && AccountID.value != ""){
        var file = new FormData();
        file.append("file", myFile.files[0])
        fetch('http://localhost:5000/users/deposit?' + new URLSearchParams({
          "to" : AccountID.value,
          "amount" : amount.value
        }), {method: 'POST', body: file})
        .then((test) => test.json())
        .then((data) => {
          alert(data.message)
        });
      }
    }
  }
</script>

</html>
